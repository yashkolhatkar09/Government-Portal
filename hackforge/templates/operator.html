<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Operator</title>
    <link rel="stylesheet" href="/static/opstyles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="title">Government Official</div>
    <div class="new-post">
      <br />
      <img
        src="https://th.bing.com/th/id/OIP.1fwZD65Jul4iaEalLVJ6SgHaIj?rs=1&pid=ImgDetMain.png"
        class="img"
      />
      <form id="report-form" action="/submit" method="POST">
        <table style="width: 100%; border-collapse: collapse; height: 100%">
          <tr>
            <td style="width: 50%; text-align: center">
              <label for="event-title">Event Title:</label>
            </td>
            <td>
              <input
                type="text"
                id="title"
                name="event-title"
                style="width: 98%"
                name="event-title"
                required
              />
            </td>
          </tr>
          <tr>
            <td style="width: 50%; text-align: center">
              <label for="event-category">Category:</label>
            </td>
            <td>
              <select
                id="event-category"
                name="Category"
                style="width: 100%"
                required
              >
                <option value="Infrastructure">Infrastructure</option>
                <option value="Public Service">Public Service</option>
                <option value="Government Initiative">
                  Government Initiative
                </option>
                <option value="Other">Other</option>
              </select>
            </td>
          </tr>
          <tr>
            <td style="width: 50%; text-align: center">
              <label for="event-description">Description:</label>
            </td>
            <td>
              <textarea name="event-description" rows="5" cols="50"></textarea>
            </td>
          </tr>
        </table>
        <div style="display: flex; width: 100%; justify-content: center">
          <button  class = "submit" name="submitreport" type="submit" onclick="Validate();">
            Submit Report
          </button>
        </div>
      </form>
    </div>
    <div class="prev-post-container">
      <table border="1">
        <tr>
          <th>ID</th>
          <th>Title</th>
          <th>Start Date</th>
          <th>Category</th>
          <th>Progress</th>
          <th>Description</th>
        </tr>
        {% for event in events %}
        <tr>
          <td>{{ event[0] }}</td>
          <td>{{ event[1] }}</td>
          <td>{{ event[2] }}</td>
          <td>{{ event[3] }}</td>
          <td>{{ event[4] }}</td>
          <td>{{ event[5] }}</td>
        </tr>
        {% endfor %}
      </table>
    </div>
    <script>
      function Validate() {
        let title = document.getElementById("title").value.trim();

        if (title === "") {
          alert("Error! Title cannot be empty.");
          return false;
        }

        if (!/^[a-zA-Z\s]+$/.test(title)) {
          alert("Error! Title cannot contain special characters.");
          return false;
        }

        return true; // Return true if validation passes
      }
    </script>
  </body>
</html>
